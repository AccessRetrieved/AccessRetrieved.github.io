"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967,30560],{37900:function(t,e,i){i.d(e,{f:function(){return a}});const a="M15 8v1a1.001 1.001 0 0 0-1 1v2.578A2.425 2.425 0 0 1 11.578 15H11v-1h.578A1.423 1.423 0 0 0 13 12.578V10a1.996 1.996 0 0 1 .679-1.5A1.996 1.996 0 0 1 13 7V4.422A1.423 1.423 0 0 0 11.578 3H11V2h.578A2.425 2.425 0 0 1 14 4.422V7a1.001 1.001 0 0 0 1 1zM3 4.422V7a1.001 1.001 0 0 1-1 1v1a1.001 1.001 0 0 1 1 1v2.578A2.425 2.425 0 0 0 5.422 15H6v-1h-.578A1.423 1.423 0 0 1 4 12.578V10a1.996 1.996 0 0 0-.679-1.5A1.996 1.996 0 0 0 4 7V4.422A1.423 1.423 0 0 1 5.422 3H6V2h-.578A2.425 2.425 0 0 0 3 4.422z"},99056:function(t,e,i){i.d(e,{H:function(){return a}});const a="M14 12H2a2.003 2.003 0 0 1-2-2V7a2.003 2.003 0 0 1 2-2h12a2.003 2.003 0 0 1 2 2v3a2.003 2.003 0 0 1-2 2zM2 6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm10 2H4v1h8z"},79998:function(t,e,i){i.d(e,{X:function(){return a}});const a="M6.47 15.058l-.742-.377S6.972 10.28 7.338 9H3.836l2.286-8h5.203l-2.95 5h4.872zM5.162 8h3.5l-1.137 3.98c1.298-1.73 2.882-3.85 3.727-4.98H6.625l2.95-5H6.877z"},69638:function(t,e,i){i.d(e,{m:function(){return a}});const a="M8.5 15.8a7.3 7.3 0 1 0-7.3-7.3 7.3 7.3 0 0 0 7.3 7.3zm0-13.6a6.3 6.3 0 1 1-6.3 6.3 6.307 6.307 0 0 1 6.3-6.3zM12 9H8V4h1v4h3z"},93977:function(t,e,i){i.d(e,{e:function(){return a}});const a="M12.5 2.2a10.3 10.3 0 1 0 10.3 10.3A10.299 10.299 0 0 0 12.5 2.2zm0 19.6a9.3 9.3 0 1 1 9.3-9.3 9.31 9.31 0 0 1-9.3 9.3zM13 12h4v1h-5V6h1z"},79274:function(t,e,i){i.d(e,{i:function(){return a}});const a="M0 0v10h10V0zm1 9V1h5.098a1.277 1.277 0 0 0-.28 1.041 1.272 1.272 0 0 0-.168.328c-.015.044-.028.09-.038.138a1.454 1.454 0 0 0-.237.228 1.182 1.182 0 0 0-.283.957.696.696 0 0 0-.06.062 1.235 1.235 0 0 0-1.175.418 1.273 1.273 0 0 0-.468-.086 1.355 1.355 0 0 0-1.34 1.367 1.493 1.493 0 0 0 .03.29 1.44 1.44 0 0 0-.144.62 1.19 1.19 0 0 0 .476.948 1.327 1.327 0 0 0 .129.869 1.127 1.127 0 0 0 .439.47 1.75 1.75 0 0 0-.017.24V9zm8 0H6.416c.007-.188.011-.353.014-.453a1.207 1.207 0 0 0 .546-1.018v-.04a1.28 1.28 0 0 0 .091-.15 1.143 1.143 0 0 0 .163-.056 1.82 1.82 0 0 0 .955.23h.359c.067 0 .242-.02.456-.052zm0-8v5.449c-.24.037-.434.065-.456.065h-.36a.735.735 0 0 1-.519-.147c-.151-.13-.147-.396-.352-.396-.276 0-.297.412-.573.412-.125 0-.184-.088-.31-.088a.201.201 0 0 0-.22.18v.285c0 .242-.322.29-.322.535 0 .098.088.135.088.234 0 .33-.588.285-.588.617 0 .108.04.174.043.278v.015c0 .052-.006.287-.018.561h-1.45l-.001-.11a1.23 1.23 0 0 1 .1-.43.923.923 0 0 0 .061-.317c0-.313-.595-.223-.688-.41-.234-.467.395-.587.395-.958 0-.09-.047-.277-.191-.293-.201-.021-.254.088-.454.088a.232.232 0 0 1-.25-.207c0-.22.174-.322.174-.543 0-.144-.06-.224-.06-.367a.354.354 0 0 1 .34-.367c.183 0 .264.15.352.307a.368.368 0 0 0 .353.177c.28 0 .455-.35.455-.556a.271.271 0 0 1 .25-.282c.2 0 .272.206.47.206.327 0 .316-.432.604-.586.353-.192.25-.604.205-.823-.018-.1.165-.287.264-.281.411.031.236-.308.236-.469a.197.197 0 0 1 .014-.082c.062-.19.339-.25.339-.478 0-.158-.132-.235-.132-.397 0-.238.233-.393.602-.569A.528.528 0 0 0 7.58 1zm6 14V6h-1V5h2v11H5v-2h.941v1zm-3-3V3h-1V2h2v11H2v-2h1v1z"},58729:function(t,e,i){i.d(e,{F:function(){return a}});const a=[{d:"M1 1v14h14V1zm13 10.555l-3.467-.858L7.887 2H14zM2 2h4.842L8.75 8.273 2 9.935zm0 12v-3.065a1.021 1.021 0 0 0 .24-.03l6.802-1.674.7 2.3L14 12.585V14z"},{opacity:".2",d:"M2 14v-3.065a1.021 1.021 0 0 0 .24-.03l6.802-1.674.7 2.3L14 12.585V14z"},{opacity:".5",d:"M14 11.555l-3.467-.858L7.887 2H14v9.555z"}]},55988:function(t,e,i){i.d(e,{g:function(){return a}});const a="M20 13.5a1.5 1.5 0 1 1 1.5-1.5 1.502 1.502 0 0 1-1.5 1.5zM13.5 12a1.5 1.5 0 1 0-1.5 1.5 1.502 1.502 0 0 0 1.5-1.5zm-8 0A1.5 1.5 0 1 0 4 13.5 1.502 1.502 0 0 0 5.5 12z"},81501:function(t,e,i){i.d(e,{G:function(){return a}});const a="M5 15H1V1h4zm-3-1h2V2H2zm8 1H6V8h4zm-3-1h2V9H7zm8 1h-4V8h4zm-3-1h2V9h-2zm3-7H6V1h9zM7 6h7V2H7z"},83831:function(t,e,i){i.d(e,{k:function(){return a}});const a="M8.878 9.925L8 10.539V2.46l2-1v4.285a4.168 4.168 0 0 1 1-.726v-3.58l2 .945V4.5a4.274 4.274 0 0 1 1 .128V1.75L10.494.094 7.5 1.591 4.503.092 1 1.805V12.42l3.5-2.275 3.01 1.957 1.683-1.178a7.36 7.36 0 0 1-.315-1zM4 9.279l-2 1.3v-8.15l2-.978zm3 1.3l-2-1.3v-7.82l2 1zM13 6a2.79 2.79 0 0 0-2.756 2.86c0 1.58 1.506 3.717 2.756 6.14 1.25-2.423 2.756-4.56 2.756-6.14A2.79 2.79 0 0 0 13 6zm.12 6.691l-.12.213-.12-.213c-.84-1.502-1.636-2.92-1.636-3.83a1.759 1.759 0 1 1 3.512 0c0 .91-.795 2.328-1.637 3.83zM13.296 10h-.594A.703.703 0 0 1 12 9.297v-.594A.703.703 0 0 1 12.703 8h.594a.703.703 0 0 1 .703.703v.594a.703.703 0 0 1-.703.703z"},66769:function(t,e,i){i.d(e,{Q:function(){return a}});const a="M10.5 3c.827 0 1.5-.673 1.5-1.5S11.327 0 10.5 0 9 .673 9 1.5 9.673 3 10.5 3zm0-2a.5.5 0 1 1-.001 1.001A.5.5 0 0 1 10.5 1zm3.412 3.993a1.492 1.492 0 0 0-.773-.85 1.487 1.487 0 0 0-1.146-.055l-1.506.541a1.498 1.498 0 0 0-.816-1.47l-1.001-.5a1.52 1.52 0 0 0-.964-.13l-2.5.5A1.505 1.505 0 0 0 4 4.5V7c0 .827.673 1.5 1.5 1.5S7 7.827 7 7V5.73l.343-.069-.331 2.653c-.025.201-.001.4.053.591l-1.219 1.582-1.808.586a1.486 1.486 0 0 0-.874.745 1.49 1.49 0 0 0-.09 1.145 1.495 1.495 0 0 0 1.889.964l2.25-.73c.29-.094.54-.271.725-.51l.863-1.12.106.153-.818 2.271a1.49 1.49 0 0 0 .054 1.148c.17.362.472.636.847.771a1.503 1.503 0 0 0 1.92-.902l1.08-3a1.503 1.503 0 0 0-.177-1.363L10.06 8.116l.033-.268c.012 0 .023.005.034.005.174 0 .345-.03.507-.088l2.374-.853a1.504 1.504 0 0 0 .904-1.919zm-6.766 7.083a.494.494 0 0 1-.242.17l-2.25.73a.5.5 0 1 1-.31-.951l2.105-.682 1.156-1.5.598.861-1.057 1.372zm3.845-.861a.503.503 0 0 1 .06.455l-1.081 3a.503.503 0 0 1-.64.3.496.496 0 0 1-.3-.64l.992-2.757L8.09 8.785a.501.501 0 0 1-.085-.348l.412-3.297-.017-.381-.47-.235L6 4.91V7a.5.5 0 0 1-1 0V4.5c0-.237.169-.443.402-.49l2.498-.5a.505.505 0 0 1 .324.043l1 .5a.5.5 0 0 1 .272.51l-.476 3.81 1.971 2.842zM12.67 5.97l-2.374.852c-.023.009-.05.006-.075.01l.137-1.094 1.975-.71a.484.484 0 0 1 .38.019.501.501 0 0 1-.044.923z"},44745:function(t,e,i){i.d(e,{O:function(){return a}});const a="M0 7h7v2H0zm16 0H9v2h7z"},96235:function(t,e,i){i.d(e,{b:function(){return a}});const a="M0 1v14h16V1zm1 13V2h5v12zm14 0H7V2h8zM2 9h3l-1.5 2zm1.5-4L5 7H2z"},65660:function(t,e,i){i.d(e,{c:function(){return a}});const a="M3 10.962v1.076l-3 1.2V2.762l3 1.2v1.076l-2-.8v7.524zm12-6.724v7.524l-2-.8v1.076l3 1.2V2.762l-3 1.2v1.076zM12 15H4V1h8zm-1-1V2H5v12z"},38008:function(t,e,i){i.d(e,{y:function(){return a}});const a="M3.113 10l3.35 2.707A.34.34 0 0 0 7 12.43V3.57a.34.34 0 0 0-.538-.277L3.112 6H.917A.917.917 0 0 0 0 6.917v2.166A.917.917 0 0 0 .917 10zM1 7h2.466L6 4.952v6.098L3.466 9H1zm11 1a6.739 6.739 0 0 1-1.664 4.427l-.032.038-.715-.626A6.08 6.08 0 0 0 11 8a5.732 5.732 0 0 0-1.416-3.769l.682-.663A6.485 6.485 0 0 1 12 8zm.593 6.468A10.07 10.07 0 0 0 15 8a9.728 9.728 0 0 0-2.412-6.398l.684-.664A10.468 10.468 0 0 1 16 8a10.727 10.727 0 0 1-2.657 7.057l-.033.038z"},38334:function(t,e,i){i.d(e,{e:function(){return a}});const a="M0 1v14h16V1zm1 5h2v2H1zm8 2H4V6h5zm0 1v2H4V9zM1 9h2v2H1zm0 5v-2h2v2zm3 0v-2h5v2zm11 0h-5v-2h5zm0-3h-5V9h5zm0-3h-5V6h5zm0-3H1V2h14z"},7247:function(t,e,i){i.d(e,{o:function(){return a}});const a="M5 6.575v-4.64C5 .552 3.88.02 2.5.02S0 .55 0 1.936v4.639L2.5 9.08zm-4-4.64c0-.25 0-.916 1.5-.916s1.5.666 1.5.917V6.16L2.5 7.665 1 6.161zm15 5c0-1.384-1.12-1.916-2.5-1.916S11 5.55 11 6.936v4.639l2.5 2.506 2.5-2.506zm-1 4.226l-1.5 1.504-1.5-1.504V6.936c0-.251 0-.917 1.5-.917s1.5.666 1.5.917zM3 4H2V3h1zm10 4h1v1h-1zm-.226 8.003c-2.975 0-11.22-.117-12.5-1.389A.849.849 0 0 1 0 14c0-.855 1.179-1.012 2.963-1.249.934-.124 2.88-.382 3.038-.758-.099-.308-1.67-.82-3.548-.995L2 10.955V10l1 .05c1.481.177 4 .665 4 1.95 0 1.225-1.897 1.477-3.905 1.742a16.277 16.277 0 0 0-1.887.321c1.263.598 6.59.94 11.528.94l.264-.001V15h1v.996l-.496.004c-.18.001-.429.003-.73.003z"},91418:function(t,e,i){i.d(e,{Lz:function(){return l},_p:function(){return r},hH:function(){return d},kC:function(){return o},kp:function(){return n}});var a=i(83726);const s="getEventName";var n;!function(t){t.ExpressMap_OpenEditor="ExpressMap_OpenEditor",t.ExpressMap_UpdateData="ExpressMap_UpdateData",t.Webmap_OpenEditor="WebMap_OpenEditor",t.Webmap_UpdateData="WebMap_UpdateData",t.ThematicMap_OpenEditor="ThematicMap_OpenEditor",t.ThematicMap_UpdateData="ThematicMap_UpdateData"}(n||(n={}));const o=(t,e)=>{var i;const{target:a,actionKind:n}=e,o=null===(i=t.getBlockById(a))||void 0===i?void 0:i.do(s,n);if("undefined"===typeof o)throw Error(`No event name for "${n}" available in target block "${a}". \nMake sure the target block exists and it calls makeBlockMapActionable() in constructor`);return o},r=t=>{let{featureDecisions:e,immersiveType:i}=t;return"sidecar"===i&&(e.TEMP_canUseWebMaps||e.canUseExpressMapAction)},d=t=>{let{featureDecisions:e,mediaType:i}=t;return e.TEMP_canUseWebMaps&&"webmap"===i||e.canUseExpressMapAction&&"expressmap"===i},l=(t,e)=>{((t,e)=>{t.addEventListener(s,(t=>e[t]))})(t,e.eventNames);const i={notifyActionButtonsWithActiveData:i=>{var s;const n=null===(s=t.parent)||void 0===s?void 0:s.do("getNarrativePanelBlockId");"undefined"!==typeof n&&t.setGlobalState("custom",{[(0,a.u)(n,"active-data")]:e.calculateActiveData(i)})},saveAction:e=>{const i=t.states.currentlyEditedActionInfo;i&&t.dispatch({target:i.origin,event:i.saveEvent,data:i.actionId?{actionId:i.actionId,mapData:e}:{...e}})},cancelEditing:()=>{var e,i;const a=t.states.currentlyEditedActionInfo;(null===(e=a)||void 0===e?void 0:e.actionId)&&(null===(i=a)||void 0===i?void 0:i.cancelEvent)&&t.api.event.dispatch({origin:t.id,target:a.origin,event:a.cancelEvent,data:{actionId:a.actionId}})}};t.states={...t.states,mapActionHandlers:i,canEdit:!0,currentlyAppliedActionData:{},currentlyEditedActionInfo:void 0,shouldIgnoreAction:!1}}},83726:function(t,e,i){i.d(e,{u:function(){return a}});const a=(t,e)=>({"active-data":`${t}-active-action-button-data`,"remove-all":`${t}-remove-all-action-buttons`,"reset-buttons":`${t}-reset-action-buttons`,"config-active":`${t}-configured-action-activeness`}[e])},10764:function(t,e,i){i.r(e),i.d(e,{ImmersiveNarrativePanel:function(){return v},default:function(){return y}});var a=i(2784),s=i(40031),n=i(24782),o=i(83648),r=i(91418),d=i(39989),l=i(44110),c=i(10759);const h=async(t,e)=>{var i;t.data.position=e,await t.updateDescendents({updateDescendentsFirst:!0}),t.isDirty=!0,await(null===(i=t.parent)||void 0===i?void 0:i.update())},p={updateFloatingPanelPosition:{dispatch:async(t,e)=>t.dispatch({event:"updateFloatingPanelPosition",data:{position:e}}),handler:async(t,e)=>{const i=t.data.position;return await h(t,e.position),{undoable:!0,title:`update float panel position to ${e.position}`,trackingDescription:"updateFloatingPanelPosition",undo:async()=>{const e=t.getNodeById(t.id);e&&await h(e,i)}}}},updateFloatingPanelStyle:{dispatch:async(t,e)=>t.dispatch({event:"updateFloatingPanelStyle",data:{style:e}}),handler:async(t,e)=>{const i=t.data.panelStyle;return t.data.panelStyle=e.style,await t.update(),{undoable:!0,title:`update float panel style to ${e.style}`,trackingDescription:"updateFloatPanelStyle",undo:async()=>{const e=t.getNodeById(t.id);e&&(e.data.panelStyle=i,await e.update())}}}}},u=(0,a.lazy)((()=>Promise.all([i.e(98748),i.e(35498)]).then(i.bind(i,35498)))),m=(0,a.lazy)((()=>i.e(98748).then(i.bind(i,98748))));class v extends o.ZP{static#t=(()=>{this.type="immersive-narrative-panel"})();static#e=(()=>{this.getInstance=async t=>new v((0,o.Nw)(t,v.type))})();constructor(t){var e,i,a,n,o,h,p,u;super(t),this.getInserterItemsForTimeline=t=>t.map((t=>{if("string"===typeof t)return t;const e={...t};return"timeline"===t.id&&(e.inserterItemConfig={...t.inserterItemConfig,isCompact:!0}),e})),this.getInserterItemsForMediaAction=(t,e)=>{if((0,r._p)({featureDecisions:e,immersiveType:this.states.immersiveType})){var i;const a=(0,r.hH)({featureDecisions:e,mediaType:null===(i=this.parent)||void 0===i?void 0:i.do("getMediaPanelMediaType")}),s=t.findIndex((t=>"object"===typeof t&&"map"===t.id)),n=s<0?-1:s+1,o=[...t];return o.splice(n,0,{...(0,c.Z9)(),isDisabled:!a}),o}return t},this.insertExtraBlock=async t=>{const{type:e,index:i,hintType:a}=t;return await this.insertBlock({mode:"builder",type:"text",parent:this,data:{text:"",type:e},states:{isExtra:!0,getInsertHintType:()=>0===this.childrenIds.length?a:"none",getInserterIndex:"number"===typeof i?()=>i:void 0,isPlainTextMode:t.isPlainTextMode,convertExtraBlockOnEmptyEnter:"sidecar"===this.states.immersiveType,...this.getNarrativeStates("text")},config:{size:"wide"},index:i},{updateParentAfterInsert:!1})},this.getSummary=()=>{var t;const e=this.getChildrenBlocks().find((t=>{var e,i,a;const s=null===(i=t)||void 0===i||null===(e=i.data)||void 0===e?void 0:e.type,n=""===(null===(a=t.do("getPlainText",{shouldUnescape:!0}))||void 0===a?void 0:a.trim());return"h3"===s||"h2"===s||"paragraph"===s&&!n}));if(null===(t=e)||void 0===t?void 0:t.data){let t=e.do("getPlainText",{shouldUnescape:!0});return t&&t.length>40&&(t=t.substring(0,40)+"..."),t??""}return""},this.handleDragDrop=async t=>{"update"!==t.type&&"start"!==t.type&&"end"!==t.type||await(0,d.ii)(this,t)},this.getIsFloatingOrSlideshow=()=>"floating-panel"===this.states.immersiveSubtype||"slideshow"===this.states.immersiveSubtype,this.states.immersiveType=(null===(i=this.parent)||void 0===i||null===(e=i.states)||void 0===e?void 0:e.immersiveType)?this.parent.states.immersiveType:"sidecar",this.states.immersiveSubtype=(null===(n=this.parent)||void 0===n||null===(a=n.states)||void 0===a?void 0:a.immersiveSubtype)?this.parent.states.immersiveSubtype:void 0;const m=null===(h=this.parent)||void 0===h||null===(o=h.states)||void 0===o?void 0:o.dockedNarrativePanelPosition;this.states.dockedPanelPosition=m||"start";const v=null===(u=this.parent)||void 0===u||null===(p=u.states)||void 0===p?void 0:p.dockedNarrativePanelSize;this.states.dockedPanelSize=v||"small",this.states.isSelected=!1,this.states.isTransitionAnimated=!0,this.states.displaySize="small",this.states.showSizeOptions=!1,this.states.canDuplicate=!0,this.states.shouldFloatingPanelHide=!1;const y="sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype,g=this.getIsFloatingOrSlideshow();this.data||(this.data={}),this.data.position||y||(this.data.position="slideshow"===this.states.immersiveSubtype?"start-top":"start"),!this.data.size&&"sidecar"===this.states.immersiveType&&g&&(this.data.size="small"),this.data.panelStyle||(this.data.panelStyle=l.k7.themed),this.addEventListener("scrollTo",(t=>{this.states.topElement?(this.states.shouldScrollTopElement=void 0,(0,s.k)({element:this.states.topElement,verticalAlign:"start",delay:0,behavior:t?"smooth":"auto"})):this.states.shouldScrollTopElement=!0})),this.addEventListener("onMediaSwipe",(async t=>{g&&(this.states.shouldFloatingPanelHide=t,await this.update({skipSave:!0}))})),this.addEventListener("updateSelected",(async t=>{this.states.isSelected=t.isSelected,this.states.isTransitionAnimated=t.isTransitionAnimated,await this.update({skipSave:!0})})),this.addEventListener("getSummary",(()=>this.getSummary())),this.addEventListener("onCanDuplicateChanged",(async t=>{this.states.canDuplicate=t})),this.addEventListener("updateInserterItems",(async()=>{await this.update({skipSave:!0});const t=this.getChildrenBlocks().map((t=>t.update({skipSave:!0,target:"layout"})));await Promise.all(t)})),this.addEventListener("getMediaActionTargetBlockId",(()=>this.hasParent()?this.parent.do("getMediaPanelMediaBlockId"):void 0)),this.addEventListener("updateSubtypeWithoutUpdate",(t=>{"floating-panel"!==t||this.data.position||(this.data.position="start"),this.states.immersiveSubtype=t,this.isDirty=!0}))}async onNodeAssembled(t){this.states.isSelected=!!this.parent&&this.parent.do("isFirstVisibleSlide"),this.states.isSelected&&await this.update({skipSave:!0});const e=this.getImmersiveId();e&&"sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype&&this.data.position&&this.setGlobalState("custom",{[`legacy-docked-panel-position-${e}`]:this.data.position}),this.isDirty=!0}getBlockComponent(){return"viewer"===this.mode?m:u}getChildrenBlocks(){const t=super.getChildrenBlocks();return t.forEach((t=>{t.states={...t.states,...this.getNarrativeStates(t.type),canCopyLink:t.states.canCopyLink,hasDragHandle:"sidecar"===this.states.immersiveType,backgroundColorId:t.states.textTheme===l.k7.themed?"backgroundColor":"transparent"},t.config||(t.config={}),t.config.size=this.getGlobalStates().printMode&&"sidecar"===this.states.immersiveType?"standard":"wide"})),t}async getChildrenUI(){const t=await super.getChildrenUI({stayDirtyIfAssembling:!0});if("viewer"===this.mode)return t;if("sidecar"===this.states.immersiveType&&("docked-panel"===this.states.immersiveSubtype||this.getIsFloatingOrSlideshow()&&0===this.childrenIds.length)){const e=await this.insertExtraBlock({type:"paragraph",hintType:"continue"});e&&t.push(await e.render())}return t}async getViewerProps(){const t="sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype;return{immersiveSubtype:this.states.immersiveSubtype,isVisible:"slideshow"===this.states.immersiveSubtype?this.states.isSelected:void 0,isTransitionAnimated:this.states.isTransitionAnimated,children:await this.getChildrenUI(),setTopElement:t=>{this.states.topElement=t,this.states.shouldScrollTopElement&&this.do("scrollTo")},setElement:t=>{this.states.element=t},isFirst:!this.parent||this.parent.do("isFirstVisibleSlide"),isLast:!this.parent||this.parent.do("isLastVisibleSlide"),position:t?this.states.dockedPanelPosition:this.data.position,size:t?this.states.dockedPanelSize:this.data.size,onThresholdHit:t=>{this.parent&&this.parent.do("onPanelThresholdHit",t)},panelStyle:this.data.panelStyle,printMode:this.getGlobalStates().printMode,shouldFloatingPanelHide:this.states.shouldFloatingPanelHide}}async getBuilderProps(){return{...await this.getViewerProps(),blockId:this.id,immersiveType:this.states.immersiveType,handleDragDrop:this.handleDragDrop,updateFloatingPanelPosition:async t=>{t&&t!==this.data.position&&(await p.updateFloatingPanelPosition.dispatch(this,t),"sidecar"===this.states.immersiveType&&n.Z.trackEvent(n.Z.Category.Builder,n.Z.Action.Builder_SideCar_SwitchPanelPosition,"start"===t?n.Z.Name.Builder_Sidecar_PanelPosition_FloatingLeft:"center"===t?n.Z.Name.Builder_Sidecar_PanelPosition_FloatingCenter:n.Z.Name.Builder_Sidecar_PanelPosition_FloatingRight))},updateFloatingPanelStyle:async t=>{(t||t!==this.data.panelStyle)&&await p.updateFloatingPanelStyle.dispatch(this,t)},updateFloatingPanelSize:async t=>{t&&(this.data.size=t,await this.updateDescendents({updateDescendentsFirst:!0}),await this.update(),n.Z.trackEvent(n.Z.Category.Builder,n.Z.Action.Builder_SideCar_SwitchPanelSize,"small"===t?n.Z.Name.Builder_Sidecar_PanelSize_FloatingSmall:"medium"===t?n.Z.Name.Builder_Sidecar_PanelSize_FloatingMedium:n.Z.Name.Builder_Sidecar_PanelSize_FloatingLarge))}}}getLayoutComponent(){}getLayoutProps(){}getJumpOffset(t){const e=this.states.topElement;return e&&"number"===typeof e.offsetTop?-1*e.offsetTop+t:super.getJumpOffset(t)}getInserterItems(){const t=this.getGlobalStates().featureDecisions;let e=(0,c.Sv)(t).filter((t=>"string"===typeof t&&"builder.blockInserter.immersive"!==t||"string"!==typeof t&&"sidecar"!==t.id&&"slideshow"!==t.id&&"guided-tour"!==t.id&&"swipe"!==t.id&&"gallery"!==t.id));return e=this.getInserterItemsForTimeline(e),e=this.getInserterItemsForMediaAction(e,t),e}getEvents(){return(0,o.G)(this,p)}getNarrativeStates(t){return{displaySize:"embed"===t?this.states.displaySize:"normal",showSizeOptions:this.states.showSizeOptions,isCompact:!0,forceDragHandleOutside:!0,isCopyLinkButtonIntegrated:"sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype,textTheme:this.data.panelStyle}}getImmersiveId(){if(!this.parent)throw new Error;return this.parent.do("getImmersiveId")}}var y=v},40031:function(t,e,i){i.d(e,{k:function(){return s}});var a=i(11230);const s=t=>{const e="undefined"===typeof t.delay?200:t.delay;0===e?n(t):setTimeout((()=>{n(t)}),e)},n=t=>{var e;const{element:i,verticalAlign:s,behavior:n}=t;let o=(0,a.xR)(),r=0,d=0;try{o&&(r=window.parent.scrollX,d=window.parent.scrollY)}catch(l){o=!1}if(i&&(null===(e=document)||void 0===e?void 0:e.documentElement)&&("scrollBehavior"in document.documentElement.style?i.scrollIntoView({behavior:n||"smooth",block:s}):i.scrollIntoView("start"===s),o))try{window.parent.scrollTo(r,d)}catch(l){}}}}]);