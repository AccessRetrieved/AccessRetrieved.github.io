(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[98434], { 7335: function (e, t, r) { (window.__NEXT_P = window.__NEXT_P || []).push(["/stories/view", function () { return r(676) }]) }, 98864: function (e, t, r) { "use strict"; var i = r(52322), n = r(2784), o = r(87172), s = r(87508), a = r(48713), d = r(52838), u = r(2141), l = r(29179), c = r(12832), p = r(82171), f = r(35902), m = r(24059); const v = (0, n.memo)((e => { var t, r, n; const { itemType: v, query: w, config: h, signInUrl: y, locale: _ } = e; (0, m.IF)(_); const { isReady: b, storyItem: P, initialThemeItemInfo: Z } = (0, m.$q)(v, e), E = null === (t = w) || void 0 === t ? void 0 : t.printMode, x = null === (r = w) || void 0 === r ? void 0 : r.header, C = h.ENABLE_LAB_FEATURES && "true" === (null === (n = w) || void 0 === n ? void 0 : n.areLabFeaturesEnabled), g = (0, m.K3)({ isOrgItem: P.isOrgItem, headerQuery: x, isEmbedded: !!e.isEmbedded, itemType: v }); return b ? (0, i.jsxs)(u.H, { areLabFeaturesEnabled: C, children: [(0, i.jsx)(o.c, { children: (0, i.jsx)(s.B_, { storyItem: P, children: (0, i.jsx)(a.Z, { ...e, itemType: v, query: w, signInUrl: y, storyItem: P, initialThemeItemInfo: Z, mode: "view", shouldShowViewerHeader: g, printMode: E, redirectOnLoadError: l.q, avatar: (0, i.jsx)(p.Z, {}), appLogo: (0, i.jsx)(f.Z, { link: h.OVERVIEW_URL }), canJumpToLinkedBlock: !0 }) }) }), (0, i.jsx)(c.Z, { itemId: P.itemId, itemMode: "published", allowPrint: !!E })] }) : (0, i.jsx)(d.Z, {}) })); v.displayName = "CommonViewPage", t.Z = v }, 676: function (e, t, r) { "use strict"; r.r(t); var i = r(52322), n = r(63789), o = r(93564), s = r(3078), a = r(98864); const d = n.o.Story, u = e => (0, i.jsx)(a.Z, { ...e, itemType: d }); u.displayName = "StoryViewPage", u.requiresAuthentication = !1, u.hasPageSpecificLocale = !0, u.getInitialProps = (0, s.b)({ itemType: d, dataPreparer: o.A }), t.default = u }, 87172: function (e, t, r) { "use strict"; r.d(t, { c: function () { return s } }); var i = r(52322), n = r(2784), o = r(66982); class s extends n.PureComponent { constructor(e) { super(e), this.updateStoryOffsetContext = (e, t) => { t ? this.setState({ ...e, updateStoryOffsetContext: this.updateStoryOffsetContext }) : this.setState((t => ({ ...t, ...e, updateStoryOffsetContext: this.updateStoryOffsetContext }))) }, this.state = { updateStoryOffsetContext: this.updateStoryOffsetContext, storyOffset: { navBarHeight: "0rem" } } } render() { return (0, i.jsx)(o.B.Provider, { value: this.state, children: this.props.children }) } } }, 2141: function (e, t, r) { "use strict"; r.d(t, { H: function () { return o }, J: function () { return s } }); var i = r(52322); const n = (0, r(2784).createContext)({ areLabFeaturesEnabled: !1 }), o = e => { const { children: t, areLabFeaturesEnabled: r } = e; return (0, i.jsx)(n.Provider, { value: { areLabFeaturesEnabled: r }, children: t }) }, s = e => t => (0, i.jsx)(n.Consumer, { children: r => (0, i.jsx)(e, { ...t, ...r }) }) }, 12832: function (e, t, r) { "use strict"; var i = r(52322), n = r(2784), o = r(69405), s = r(56463), a = r(24782); const d = () => { a.Z.trackEvent(a.Z.Category.Viewer, a.Z.Action.Viewer_Print) }, u = (0, n.memo)((e => { const { routeTo: t, getUrlFromRouteDef: r } = (0, o.Gr)(), u = (0, n.useCallback)((i => { var n; if (e.allowPrint) return void d(); null === (n = i) || void 0 === n || n.preventDefault(), i && a.Z.trackEvent({ draft: a.Z.Category.Builder, published: a.Z.Category.Builder, preview: a.Z.Category.Builder }[e.itemMode], { draft: a.Z.Action.Builder_Print_Preview, published: a.Z.Action.Builder_Print_Preview, preview: a.Z.Action.Builder_Print_Preview }[e.itemMode], a.Z.Name.From_Keyboard); const o = { route: { draft: "story-draft-print", published: "story-published-print", preview: "story-preview-print" }[e.itemMode], itemId: e.itemId }; switch (e.itemMode) { case "draft": return void t({ method: "push", routeDef: o }); case "published": case "preview": return void (window.location.href = r(o)); default: throw new Error("invalid item mode") } }), [t, r, e.itemId, e.allowPrint, e.itemMode]), l = (0, n.useCallback)((() => { e.allowPrint ? d() : (a.Z.trackEvent({ draft: a.Z.Category.Builder, published: a.Z.Category.Viewer, preview: a.Z.Category.Viewer }[e.itemMode], { draft: a.Z.Action.Builder_Print_Preview, published: a.Z.Action.Viewer_Print_Preview, preview: a.Z.Action.Viewer_Print_Preview }[e.itemMode], a.Z.Name.From_Browser_Menu), u()) }), [u, e.allowPrint, e.itemMode]); return (0, n.useEffect)((() => (window.addEventListener("beforeprint", l), () => { window.removeEventListener("beforeprint", l) })), [l]), (0, i.jsx)(s.Z, { triggerKey: "p", isCtrl: !0, isMeta: !0, on: u }) })); t.Z = u } }, function (e) { e.O(0, [1, 65868, 48834, 19297, 53743, 22353, 26771, 79936, 29270, 89970, 60078, 42599, 96353, 60702, 79102, 87017, 49774, 92888, 40179], (function () { return t = 7335, e(e.s = t); var t })); var t = e.O(); _N_E = t }]);