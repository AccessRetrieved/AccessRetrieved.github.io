"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29270],{20868:function(e,t,r){var a,i,o,n;r.d(t,{Gi:function(){return o},Nf:function(){return a},i1:function(){return i},vN:function(){return n}}),function(e){e.published="smversionpublished",e.draft="smversiondraft"}(a||(a={})),function(e){e.publishedDate="smpublisheddate",e.firstPublishedDate="smfirstpublisheddate"}(i||(i={})),function(e){e.Image="image",e.Video="video",e.ImageOrVideo="image-or-video",e.Audio="audio",e.Embed="embed",e.Map="map",e.WebMap="webmap",e.ExpressMap="expressmap",e.ThematicMap="thematic-map",e.ReadyToUseMap="ready-to-use-map",e.ActivityMap="activity-map",e.GuidedTour="tour",e.Gallery="gallery",e.Sidecar="sidecar",e.Swipe="swipe",e.Timeline="timeline",e.Custom="custom",e.Globe="globe",e.Terrain="terrain",e.ImageEditor="imageEditor",e.Viewer3D="viewer3D",e.Charting="charting",e.ExpressMapping="expressMapping",e.BinVisualization="binVisualization",e.Template="template",e.File="file-item"}(o||(o={})),function(e){e[e.Full=1920]="Full",e[e.Wide=1200]="Wide",e[e.Standard=820]="Standard"}(n||(n={}))},96934:function(e,t,r){r.d(t,{$U:function(){return f},Fn:function(){return y},PR:function(){return g},U_:function(){return h},Zr:function(){return b},mI:function(){return x},rV:function(){return u},zb:function(){return v}});var a=r(83224),i=r(30858),o=r(73927),n=r(23038),s=r(55098),d=r(20868),p=r(63789),l=r(33249),c=r(66831);const u=(e,t,r,a)=>{const l=[...t.NEW_ITEM_TYPEKEYWORDS,i.PC.draft,`${d.Nf.draft}:${t.APP_VERSION}`,o.Zv];e===p.o.Collection&&l.push(o.fp),e===p.o.Briefing&&(l.push(o.Am),l.push("alphabriefing")),e===p.o.Frame&&(l.push(o.d0),l.push("alphaframe")),r&&l.push(s.nt),a&&t.ESRI_MARKETING_ANALYTICS&&t.ESRI_MARKETING_ANALYTICS.orgIds.includes(a)&&l.push(s.hH);const u=e===p.o.Theme?o.j3:o.Cs;return{title:(0,c.bH)({type:e}),tags:[""],typeKeywords:l,type:u,properties:(0,n.M)({thumbnail:["default"]},"replace")}},m=(e,t)=>e&&t&&"undefined"!==e&&"undefined"!==t?`${e} ${t}`:"",h=e=>{const t=(0,a.vx)(),r=(0,a.vx)(),i=(0,a.vx)(),o=(0,a.S3)(),n={root:t,nodes:{[t]:{type:"story",data:{storyTheme:o},config:{coverDate:"first-published",...e.shouldIncludeAuthorCard?{isShowingAuthorCard:!0}:{}},children:[r,i]},[r]:{type:"storycover",data:{type:e.coverType,title:e.title??"",summary:"",byline:m(e.firstName,e.lastName),titlePanelPosition:"start"}},[i]:{type:"navigation",data:{links:[]},config:{isHidden:!0}}},resources:{[o]:{type:"story-theme",data:{themeId:e.baseThemeId,themeBaseVariableOverrides:{},...e.theme&&{themeItemId:e.theme}}}}},s=n.nodes[t].children;if(!s)throw new Error("new story created with no children block");if("string"===typeof e.webmap){const t=`r-${e.webmap}`,r=(0,a.vx)();n.resources[t]={type:"webmap",data:{itemId:e.webmap,itemType:"Web Map",type:"default"}},s.push(r),n.nodes[r]={type:"webmap",data:{map:t}}}if("string"===typeof e.webscene){const t=`r-${e.webscene}`,r=(0,a.vx)();n.resources[t]={type:"webmap",data:{itemId:e.webscene,itemType:"Web Scene",type:"default"}},s.push(r),n.nodes[r]={type:"webmap",data:{map:t}}}(0,c.cI)(e.template)&&w(e.template,i,n);const d=(0,a.vx)();return s.push(d),n.nodes[d]={type:"credits"},n},y=()=>{const e=(0,a.vx)(),t=(0,a.vx)(),r=(0,a.vx)(),i=(0,a.S3)(),o=(0,a.vx)(),n=(0,a.vx)(),s=(0,a.vx)(),d=(0,a.vx)(),p=(0,a.vx)(),l=(0,a.vx)(),c=(0,a.vx)(),u=(0,a.vx)(),m=(0,a.vx)(),h=(0,a.vx)(),y=(0,a.vx)(),f=(0,a.vx)(),v=(0,a.vx)(),g=(0,a.vx)(),b=(0,a.vx)(),x=(0,a.vx)(),w=(0,a.vx)(),I=(0,a.vx)(),S=(0,a.vx)(),M=(0,a.S3)(),T=(0,a.S3)(),E=(0,a.S3)(),C=(0,a.S3)(),_=(0,a.S3)(),N={root:e,nodes:{[e]:{type:"frame",data:{storyTheme:i},children:[o]},[t]:{type:"storycover",data:{type:"no-cover",title:"Frame Journey Cover",summary:"Mar 1, 2023 \u2013 Mar 17, 2023",byline:"My byline"}},[r]:{type:"journey-map",data:{geometries:[{id:"4f7658d2-b1eb-49aa-885d-abae43896404",nodes:[{lat:34.05538,long:-117.18259}],type:"POINT_NUMBERED"},{id:"8c952fe2-1000-4385-bcbd-cfe4e0fd8371",nodes:[{lat:33.81446,long:-116.67918}],type:"POINT_NUMBERED"},{id:"6d81a504-d1f1-45b2-91f8-0847b616b937",nodes:[{lat:33.78388,long:-116.95719}],type:"POINT_NUMBERED"},{id:"52babe5a-d163-4f0c-9fde-e7c8496d29cc",nodes:[{lat:34.05357,long:-118.24545}],type:"POINT_NUMBERED"}]}},[o]:{type:"frame-journey",data:{cover:t,map:r},children:[f,v,g,b]},[f]:{type:"journey-place",data:{featureId:"4f7658d2-b1eb-49aa-885d-abae43896404"},children:[x]},[v]:{type:"journey-place",data:{featureId:"8c952fe2-1000-4385-bcbd-cfe4e0fd8371"},children:[w]},[g]:{type:"journey-place",data:{featureId:"6d81a504-d1f1-45b2-91f8-0847b616b937"},children:[I]},[b]:{type:"journey-place",data:{featureId:"52babe5a-d163-4f0c-9fde-e7c8496d29cc"},children:[S]},[x]:{type:"journey-slide",data:{contents:[c],media:n,label:"first label"}},[w]:{type:"journey-slide",data:{contents:[u],media:s,label:"first label"}},[I]:{type:"journey-slide",data:{contents:[m],media:d,label:"first label"}},[S]:{type:"journey-slide",data:{contents:[h],media:p,label:"first label"}},[c]:{type:"text",data:{text:"March 1, 2023",type:"paragraph"}},[u]:{type:"text",data:{text:"March 15, 2023",type:"paragraph"}},[m]:{type:"text",data:{text:"It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",type:"paragraph"}},[h]:{type:"text",data:{text:"March 17, 2023",type:"paragraph"}},[y]:{type:"text",data:{text:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book",type:"paragraph"}},[n]:{type:"image",data:{image:M}},[s]:{type:"image",data:{image:T}},[d]:{type:"image",data:{image:E}},[p]:{type:"image",data:{image:C}},[l]:{type:"image",data:{image:_}}},resources:{[i]:{type:"story-theme",data:{themeId:"reef",themeBaseVariableOverrides:{}}},[M]:{type:"image",data:{height:2400,provider:"uri",src:"https://images.pexels.com/photos/14453330/pexels-photo-14453330.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",width:544}},[T]:{type:"image",data:{height:2400,provider:"uri",src:"https://images.pexels.com/photos/13641049/pexels-photo-13641049.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",width:1080}},[E]:{type:"image",data:{height:2400,provider:"uri",src:"https://images.pexels.com/photos/14656123/pexels-photo-14656123.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",width:1080}},[C]:{type:"image",data:{height:2400,provider:"uri",src:"https://images.pexels.com/photos/13748845/pexels-photo-13748845.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",width:1080}},[_]:{type:"image",data:{height:2400,provider:"uri",src:"https://images.pexels.com/photos/11856438/pexels-photo-11856438.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",width:1080}}}};if(!N.nodes[e].children)throw new Error("new frame created with no children block");return N},f=e=>{const t=(0,a.vx)(),r=(0,a.vx)(),i=(0,a.vx)(),o=(0,a.vx)(),n=(0,a.S3)(),s={type:"story-theme",data:{themeId:e.baseThemeId,themeBaseVariableOverrides:{},...e.theme&&{themeItemId:e.theme}}};return{root:t,nodes:{[t]:{type:"collection",data:{storyTheme:n},children:[r]},[r]:{type:"collection-ui",data:{items:[]},children:[i,o]},[i]:{type:"collection-cover",data:{title:e.title??"",summary:"",byline:m(e.firstName,e.lastName),type:"tiles"}},[o]:{type:"collection-nav",data:{type:"compact"}}},resources:{[n]:s}}},v=e=>{const t=(0,a.vx)(),r=(0,a.S3)(),i=(0,a.vx)(),o=(0,a.vx)(),n=(0,a.vx)(),s={type:"story-theme",data:{themeId:e.baseThemeId,themeBaseVariableOverrides:{},...e.theme&&{themeItemId:e.theme}}},d={root:t,nodes:{[t]:{type:"briefing",data:{storyTheme:r},children:[i]},[i]:{type:"briefing-ui",children:[o]},[o]:{type:"briefing-slide",data:{layout:"cover"},children:[n]},[n]:{type:"storycover",data:{type:"sidebyside",title:"",summary:"",byline:m(e.firstName,e.lastName),titlePanelPosition:"start"}}},resources:{[r]:s}};if(!d.nodes[t].children)throw new Error("new briefing created with no children block");return d},g=e=>!e||/^(StoryMap|StoryMapCollection|Theme|StoryMapBriefing) \d{10,15}$/.test(e),b=e=>`${e}${l.x}`,x=async e=>{const t=`${location.origin}${b(e)}`,r=await fetch(t);return await r.blob()},w=(e,t,r)=>{if(!r.nodes[r.root].children)throw new Error("Could not insert template nodes, root node does not have children.");const i=(0,a.vx)(),o=r.nodes[r.root].children.indexOf(t)+1;if(r.nodes[r.root].children.splice(o,0,i),e.startsWith("sidecar")){const t=(0,a.vx)();r.nodes[i]={type:"immersive",data:{type:"sidecar",subtype:"sidecar-floating"===e?"floating-panel":"docked-panel",narrativePanelPosition:"start",narrativePanelSize:"small"},children:[t]};const o=(0,a.vx)();r.nodes[t]={type:"immersive-slide",data:{transition:"fade"},children:[o]},r.nodes[o]={type:"immersive-narrative-panel",data:{panelStyle:"themed",position:"start",size:"small"}}}else if(e.startsWith("guided-tour")||e.startsWith("explorer")){const t=e.startsWith("guided-tour");r.nodes[i]={type:"tour",data:{type:t?"guided-tour":"explorer",subtype:t?"guided-tour-media"===e?"media-focused":"map-focused":"explorer-grid"===e?"grid":"list"}}}}},33249:function(e,t,r){r.d(t,{B:function(){return a},x:function(){return i}});const a=["sidecar","sidecar-floating","sidecar-docked","guided-tour","guided-tour-media","guided-tour-map","explorer","explorer-grid","explorer-list"],i="/static/images/item-default-thumbnails/item.jpg"},66831:function(e,t,r){r.d(t,{HL:function(){return s},KZ:function(){return l},bH:function(){return n},cI:function(){return p},mT:function(){return d}});var a=r(73927),i=r(33249),o=r(63789);const n=e=>{let{type:t,dateStamp:r}=e;var a;const i="number"===typeof r?r:(null===(a=r)||void 0===a?void 0:a.getTime())||Date.now(),n=1e3*Math.round(i/1e3);return`${{[o.o.Collection]:"StoryMapCollection",[o.o.Story]:"StoryMap",[o.o.Frame]:"StoryMapFrame",[o.o.Briefing]:"StoryMapBriefing",[o.o.Theme]:"Theme"}[t]} ${n}`},s=e=>{let{type:t,typeKeywords:r}=e;var i,n,s;if(t===a.Cs&&(null===(i=r)||void 0===i?void 0:i.includes(a.fp)))return o.o.Collection;if(t===a.Cs&&(null===(n=r)||void 0===n?void 0:n.includes(a.Am)))return o.o.Briefing;return t===a.Cs&&(null===(s=r)||void 0===s?void 0:s.includes(a.d0))?o.o.Frame:{[a.Cs]:o.o.Story,[a.j3]:o.o.Theme}[t]},d=(e,t)=>s(e)===t,p=e=>!!e&&i.B.includes(e),l=async(e,t)=>{var r,a;const i=await(null===(r=t)||void 0===r?void 0:r.getUser());if(null===(a=i)||void 0===a?void 0:a.groups)for(const n of i.groups){var o;if(n.capabilities.includes("updateitemcontrol")&&(null===(o=e.groups)||void 0===o?void 0:o.includes(n.id)))return!0}return!1}},60305:function(e,t,r){r.d(t,{Hy:function(){return d},M4:function(){return o},OP:function(){return n},ds:function(){return s},mD:function(){return p},mb:function(){return l}});var a=r(69458),i=r(30858);const o=e=>new Promise(((t,r)=>{const a=new FileReader;a.onload=()=>{t(a.result)},a.onerror=()=>{r(i.S.FILE_READ_ERROR)},a.readAsDataURL(e)})),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;const r=e.split(",")[0].split(":")[1].split(";")[0],a=atob(e.split(",")[1]),i=[];for(let n=0;n<a.length;n+=t){const e=a.slice(n,n+t),r=new Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);const o=new Uint8Array(r);i.push(o)}const o=new Blob(i,{type:r});return o},s=e=>new Blob([JSON.stringify(e)],{type:"application/json"}),d=(e,t)=>{const r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),a.remove()},p=(e,t)=>{var r;if(!e)return;if(e.lastIndexOf(".")<=0)return;const a=null===(r=t)||void 0===r?void 0:r.split("/")[0];let i=e.toLowerCase().split(".").pop();var o;"audio"===a&&"mp3"!==i&&"mpeg"!==i&&"wav"!==i&&(i=null===(o=t)||void 0===o?void 0:o.slice(t.indexOf("/")+1),"x-wav"===i&&(i="wav"));return i},l=e=>e<5e5?a.VG.Common_Size_XSmall:e<1e6?a.VG.Common_Size_Small:e<5e6?a.VG.Common_Size_Medium:e<1e7?a.VG.Common_Size_Large:e<2e7?a.VG.Common_Size_XLarge:a.VG.Common_Size_XXLarge}}]);