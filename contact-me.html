<html>
    <head>
        <link rel="stylesheet" href="/css/contactme.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
		<link href="/css/bootstrap/bootstrap_main.css" rel="stylesheet">
    </head>
    <body onload="window.location = '#bottom'">
        <div class="page_content form_content">
          <br><br><br>
          <br><br><br>

          <form class="g-3 needs-validation" novalidate>
            <div class="mb-3">
              <label for="name" class="form-label">Full name</label>
              <input type="text" class="form-control" id="name" aria-describedby="name" autofocus required>
              <div class="invalid-feedback">
                Please provide your name.
              </div>
            </div>
            <div class="mb-3">
              <label for="emails" class="form-label">Email</label>
              <input type="email" class="form-control" id="emails" aria-describedby="emails" required>
              <div class="invalid-feedback">
                You can choose not to share your email but an email has to be provided for security reasons.
              </div>
            </div>
            <div class="mb-3">
              <label for="subject" class="form-label">Subject</label>
              <input type="text" class="form-control" id="subject" aria-describedby="subject" required>
              <div class="invalid-feedback">
                Please provide a title.
              </div>
            </div>
            <br>
            <div class="form-floating">
              <textarea class="form-control" placeholder="Leave a comment here" id="comment" style="height: 100px" required></textarea>
              <label for="comment">Comments</label>
              <div class="invalid-feedback">
                Please provide a reason.
              </div>
            </div>
            <br>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="shareEmail" checked>
              <label class="form-check-label" form="shareEmail">Share my email with developer</label>
            </div>
            <br>

            <button type="submit" style="width: 20%;" class="btn btn-primary" onclick="send()" name="bottom">Send</button>
          </form>
        </div>
    </body>
    <script>
      function send() {
        var name = document.getElementById("name");
        var subject = document.getElementById("subject");
        var comment = document.getElementById("comment");
        var shareEmail = document.getElementById("shareEmail").checked;
        var email = document.getElementById("emails");

        if (shareEmail == true) {
          if (name.value != "" && subject.value != "" && comment.value != "" && email.value != "") {
            window.open("mailto:work.jerrywu@gmail.com?subject=" + subject.value + "&body=" + `${name.value} has a message for you: ${comment.value}, reply to ${email.value}`);
          window.open("https://accessretrieved.github.io/contact-success.html")
          } else {
            return
          }
        } else {
          if (name.value != "" && subject.value != "" && comment.value != "" && email.value != "") {
            window.open("mailto:work.jerrywu@gmail.com?subject=" + subject.value + "&body=" + `${name.value} has a message for you: ${comment.value}`);
            window.open("https://accessretrieved.github.io/contact-success.html")
          } else {
            return
          }
        }
      }

      (function () {
        'use strict'

        var forms = document.querySelectorAll(".needs-validation")

        Array.prototype.slice.call(forms)
          .forEach(function (form) {
            form.addEventListener('submit', function (event) {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }

              form.classList.add('was-validated')
            }, false)
          })
      })()
    </script>
</html>